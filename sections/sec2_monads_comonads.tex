\chapter{Monads and Comonads}
Monads were first introduced in 1958 under the name \textit{standard construction} or \textit{construction fondamentale} 
by Roger Godement in \cite[Appendix,3.]{godement}, where he used them for applications in sheaf cohomology. 
They were also used in algebraic topology and homotopy theory, for example in \cite{huber}.
In the early category theory-literature monads were called \textit{triples}, other names were
\textit{monoid, dual standard construction} and \textit{triad}.
The name \textit{monad} first appeared in \cite{benabou}, the exact reason for this name being unclear today,
although it surely inspired by \textit{monoids}, which monads are related to.
Monads are closely connected to adjunctions, as we will explore in this chapter, besides giving lots of examples, 
with many interesting examples coming from \cite{perrone}.
In computer science, monads play an important role in functional programming.
This chapter is based on \cite[Chapter VI]{maclane}, which is
the standard resource for first learning about monads and comonads. Some of the proofs are
taken from \cite[Chapter II.3]{monoidaltopology} instead. Another great exposition is
\cite[Chapter 5]{perrone}.
\section{Definition of monads and comonads}
A central notion in algebra is that of a \textit{monoid},
that is, a set $M$ equipped with a map 
$\mu \colon M \times M \to M$; $(a,b) \mapsto a \cdot b$ 
(often called \textit{multiplication}) and an element $e \in M$
such that the following two axioms hold:
\begin{align}
    \label{eq: associativity for a monoid}  \tag{associativity} 
    (a \cdot b) \cdot c = a \cdot (b \cdot c) 
    \quad &\text{for all} \ a,b,c \in M. \\
    \label{eq: identity element for a monoid} \tag{identity element}
    e \cdot a = a \cdot e = a \quad &\text{for all} \ a \in M 
\end{align}
We can give an equivalent definition in terms of maps and commuting diagrams as follows:
A \textit{monoid} is a set $M$ together with two functions 
\[
    \mu \colon M \times M \to M, \quad 
    e \colon \pt \to M
\]
such that the following diagrams commute: \\

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.46\textwidth}
    \centering
    %\phantomsection\label{name1}
        \begin{tikzcd}
            M \times M \times M \ar[r,"\id \times \mu"] \ar[d,"\mu \times \id"] 
              & M \times M \ar[d,"\mu"] \\
            M \times M \ar[r,"\mu"]
              & M
        \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.47\textwidth}
    \centering
    %\phantomsection\label{name2}
        \begin{tikzcd}
            \pt \times M \ar[rd,"l"'] \ar[r, "e \times \id"] 
            & M \times M \ar[d,"\mu"] 
            & M \times \pt \ar[l,"\id \times e"'] \ar[ld,"r"]\\
            & M
        \end{tikzcd}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}


where $\id$ is the identity on m, and $l$ and $r$ are the canonical bijections
\begin{align*}
    &l \colon \pt \times M \to M;\ l(\ast,m) = m \\
    &r \colon M \times \pt \to M;\ r(m,\ast) = m.
\end{align*}

Explicitly, the first diagram means that for all $a,b,c \in M$:
\[
    (a \cdot b) \cdot c = a \cdot (b \cdot c) 
    \quad \text{for all} \ a,b,c \in M.
\]
which is verbatim the~\ref{eq: associativity for a monoid} axiom, the second diagram means that for all $m \in M$:
\[
  e(\ast) \cdot m = l(\ast,m) = m = r(m,\ast) = m \cdot e(\ast)  
\]
which is clearly the~\ref{eq: identity element for a monoid} axiom 
for the element $e(\ast)$.
This motivates the following definition:
\begin{definition}[monad]
A \textit{monad} $(T,\mu, \eta) $ in a category $\cat{X}$ consists of
\begin{itemize}
    \item an endofunctor $T\colon \cat{X} \to \cat{X}$
    \item a natural transformation $\eta \colon \id_\cat{X} \Rightarrow T$ 
    \item a natural transformation $\mu\colon T^2 \Rightarrow T $
\end{itemize}  
such that the following diagrams commute:
% der ' nach dem Text Ã¤ndert die Position der Pfeil-Beschriftung
\begin{figure}[H]
    \centering
    \begin{subfigure}{0.3\textwidth}
        \centering
        \phantomsection\label{dia: associativity}
        % Content of the first subfigure
        \begin{tikzcd}
            T^3 \ar[r,"T\mu",Rightarrow] \ar[d,"\mu T"',Rightarrow] 
            & T^2 \ar[d,"\mu",Rightarrow] \\
            T^2 \ar[r,"\mu",Rightarrow]
            & T
        \end{tikzcd}
        \caption*{(associativity)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.3\textwidth}
        \centering
        \phantomsection\label{dia: unitality}
        \begin{tikzcd}
            T \ar[rd,"\id_T"',Rightarrow] \ar[r, "\eta T",Rightarrow] 
        & T^2 \ar[d,"\mu",Rightarrow] 
        & T \ar[l,"T \eta"',Rightarrow] \ar[ld,"\id_T",Rightarrow]\\
        & T
        \end{tikzcd}
        \caption*{(unitality)}
    \end{subfigure} 
\end{figure}

In terms of components,~\refassociativity and~\refunitality mean that for every object $x$ of $\cat{X}$
the following diagrams commute:

\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
\begin{tikzcd}
    T(T(Tx)) \ar[r,"T(\mu_x)"] \ar[d,"\mu_{Tx}"'] 
    & T(Tx) \ar[d,"\mu_x"] \\
    T(Tx) \ar[r,"\mu_x"]
    & Tx
\end{tikzcd}
\caption*{(associativity)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
\begin{tikzcd}
    Tx \ar[rd,"\id_{Tx}"'] \ar[r, "\eta_{Tx}"] 
    & T(Tx) \ar[d,"\mu_x"] 
    & Tx \ar[l,"T(\eta_x)"'] \ar[ld,"\id_{Tx}"]\\
    & Tx
\end{tikzcd}
\caption*{(unitality)}
\end{subfigure}
\end{figure}

\end{definition}

\begin{example}[preorder]
Recall: A \textit{preorder} $(\cat{P},\le)$ is a category with $\cat{P}$ as objects and 
a morphism between $X$ and $Y$ iff $X \le Y$.
A functor $T\colon \cat{P} \to \cat{P}$ is thus a monotonic function $\cat{P}\to \cat{P}$
($x \le y \implies Tx\le Ty$).
The existence of the natural transformations $\eta$ is equivalent to
\[x \le Tx \ \forall x \in \cat{P}\]
and the existence of $\mu$ is equivalent to
\[T(Tx) \le Tx \ \forall x \in \cat{P}\] 
because there is at most one morphism $x \to y$, so the neccessary diagrams commute trivially.\\
Now suppose $\cat{P}$ is a \textit{partial order}, i.e. $x \le y \le x \implies x = y \ \forall x,y \in \cat{P}$. \\
Then:
\begin{align*}
    x \le Tx \implies Tx \le T(Tx) \\
    T(Tx) \le Tx \implies Tx = T(Tx)
\end{align*}
so a monad $T$ in a partial order $\cat{P}$ is a \textit{closure operation} in $\cat{P}$, i.e. 
a monotonic function $T \colon \cat{P} \to \cat{P}$ 
with $x \le Tx$ and $T(Tx)=Tx \ \forall x \in \cat{P}.$ \\
Now every topological space $X$ induces a partial order $\cat{P} = (\mathscr{P}(X),\subseteq)$.
Here an example for a closure operation is taking the topological closure $A \mapsto \overline{A}$,
since it holds for all $A \subseteq X$ that $A \subseteq \overline{A}$ and
$\overline{\overline{A}} = \overline{A}$.
\end{example}

\begin{example}[M-action monad]
    Let $(M,\cdot,1)$ be a monoid. Then for each set $X$ we can form the set $X \times M$ and 
    for a map $f \colon X \to Y$ we have a map $f \times \id_M \colon X \times M \to Y \times M;
    (x,m) \mapsto (f(x),m)$. This is functorial and the functor canonically has the structure of 
    a monad, induced by the monoid structure of M. 
    \begin{itemize}
        \item The unit $\eta$ is defined by
            $\eta_X \colon X \to X \times M;
            x \mapsto (x,1)$
        \item The multiplication $\mu$ is defined by 
           $ \mu_X \colon X \times M \times M \to X \times M;
            (x,m,n) \mapsto (x,m \cdot n)$
    \end{itemize}
    These are clearly natural maps and the monad axioms follow directly from the monoid axioms for $M$,
    if we look at the corresponding diagrams:
    \begin{figure}[H]
    \small
    \centering
    \begin{subfigure}{0.46\textwidth}
    \centering 
    %\phantomsection\label{name1}
    \begin{tikzcd}
        X \times M \times M \times M \arrow[r,"\mu_x \times \id_M"]  \arrow[d,"\mu_{X \times M}"] 
            & X \times M \times M \arrow[d,"\mu_X"] \\
        X \times M \times M \arrow[r,"\mu_X"]
            & X \times M
    \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.47\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        X \times M \ar[rd,"\id_{X \times M}"',sloped] \ar[r, "\eta_X \times M"] 
        & X \times M \times M \ar[d,"\mu_X"] 
        & X \times M \ar[l,"\eta_x \times \id_M"'] \ar[ld,"\id_{X \times M}"',sloped]\\
        & X \times M
    \end{tikzcd}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    The~\refassociativity axiom means that $(m \cdot n) \cdot k = m \cdot (n \cdot k)$ 
    which is just the~\ref{eq: associativity for a monoid} axiom for the monoid M,
    while~\refunitality means that $1\cdot m = m = m \cdot 1$ which holds by
    the~\ref{eq: identity element for a monoid} axiom for $M$.
    We will call this monad on $\cat{Set}$ the \textit{M-action monad}, the reason for this name will
    be clear once we look at it's algebras, see Section~\ref{sec: Eilenberg-Moore-Category}.
\end{example}
\begin{example}[Maybe monad]
    The \textit{Maybe monad} $Y \colon \cat{Set} \to \cat{Set}$ is defined by
    $X \mapsto X \cup \pt$ where $f \colon X \to Y$ gets mapped to the function
    $Y(f) \colon X \cup \pt \to Y \cup \pt$ which maps $x$ to $f(x)$ and $\ast$ to $\ast$. 
    \begin{itemize}
        \item $\eta_X \colon X \to X \cup \pt; x \mapsto x$
        \item $\mu_X \colon X \cup \{\ast_1\}  \cup \{\ast_2\} \to X \cup \pt; x \mapsto x, 
        \ast_1 \mapsto \ast, \ast_2 \mapsto \ast$
    \end{itemize}
    \todo{finish}
\end{example}

\begin{definition}[comonad]
A \textit{comonad} $(L,\eps, \omega) $ in a Category $\cat{A}$ consists of
\begin{itemize}
    \item an endofunctor $L\colon \cat{A} \to \cat{A}$
    \item a natural transformation $\eps \colon L \Rightarrow \id_{\cat{A}}$ 
    \item a natural transformation $\omega\colon L \Rightarrow L^2 $
\end{itemize}  
such that the following diagrams commute:

\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
    \begin{tikzcd}
        L \ar[r,"\omega",Rightarrow] \ar[d,"\omega"',Rightarrow] 
            & L^2 \ar[d,"L\omega",Rightarrow] \\
        L^2 \ar[r,"\omega L",Rightarrow]
            & L^3
    \end{tikzcd}
\caption*{(coassociativity)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
    \begin{tikzcd} 
        & L \ar[ld,"\id_L"',Rightarrow] 
        \ar[rd,"\id_L",Rightarrow] \ar[d,"\omega",Rightarrow] & \\
        L 
        & L^2 \ar[l,"\eps L"',Rightarrow] \ar[r,"L \eps",Rightarrow] 
        & L
    \end{tikzcd}
\caption*{(counitality)}
\end{subfigure}
\end{figure}


In terms of components, this means that for every object $x$ of $\cat{A}$
the following diagrams commute:

\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
    \begin{tikzcd}
        Lx \ar[r,"\omega_x"] \ar[d,"\omega_x"'] 
            & L(Lx) \ar[d,"L(\omega_x)"] \\
        L(Lx) \ar[r,"\omega_{Lx}"]
            & L(L(Lx)) 
    \end{tikzcd}
\caption*{(coassociativity)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
    \begin{tikzcd}
        & Lx \ar[ld,"\id_{Lx}"'] 
        \ar[rd,"\id_{Lx}"] \ar[d,"\omega_x"] & \\
        Lx 
        & L(Lx) \ar[l,"\eps_{Lx}"'] \ar[r,"L(\eps_x)"] 
        & Lx
    \end{tikzcd}
\caption*{(counitality)}
\end{subfigure}
\end{figure}

\end{definition}
\begin{example}[Reader comonad]
    Let $E$ be a set. Define a functor $C_E \colon \cat{Set} \to \cat{Set}$ by
    $C_E(X)=X \times E$ and, given $f \colon X \to Y,$ $C_E(f) = f \times \id_E
    \colon X \times E \to Y \times E.$
    We can view $E$ as \dq extra information\dq{} and give $C_E$ a comonadic structure as follows:
    \begin{itemize}
        \item the counit $\eps_X \colon X \times E \to X; (x,e)\mapsto x$ 
         "forgets the extra information"
        \item the comultiplication $\omega_X \colon X \times E \to X \times E \times E;
        (x,e)\mapsto (x,e,e)$ 
        "copies the extra information".
    \end{itemize}
    Now the comonad axioms say that the following diagrams have to commute:
    \begin{figure}[H]
        \small
    \centering
    \begin{subfigure}{0.45\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
        X \times E \arrow[r,"\omega_X"] \arrow[d,"\omega_X"] 
          & X \times E \times E \arrow[d,"\omega_X \times \id_E"] \\
        X \times E \times E \arrow[r,"\omega_{X \times E}"]
          & X \times E \times E \times E
    \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.46\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        & X \times E \ar[ld,"\id_{X \times E}",sloped] 
        \ar[rd,"\id_{X \times E}",sloped] \ar[d,"\omega_X"] & \\
        X \times E 
        & X \times E \times E \ar[l,"\eps_{X \times E}"'] \ar[r,"\eps_X \times \id_E"] 
        & X \times E
    \end{tikzcd}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    The first diagram commutes, because for a tuple $(x,e,e)$, copying the second or 
    third element produces the same tuple. The second diagram commutes, because copying 
    the extra information and the deleting either one of the copies gives the same result.
    The resulting comonad $(C_E,\eps,\omega)$ on $\cat{Set}$ is called the \textit{reader comonad}.
    Note that as a functor, it is almost the same as the \textit{writer comonad}, but we gave it
    kind of a dual structure.
\end{example}


We now consider another example of a comonad; the \textit{free monoid comonad}.
\begin{definition}[monoid ring]
    Let $R$ be a ring and let $G$ be a monoid.
    The \textit{monoid ring} of $G$ over $R$, denoted $R[G]$ or $RG$
    is the set of formal finite sums $\sum_{g \in G}r_g \cdot g$
    with addition and multiplication defined by:
    \begin{align*}
        \big(\sum_{g \in G}r_g \cdot g \big) + \big(\sum_{g \in G}s_g \cdot g \big)
        & := \sum_{g \in G}(r_g + s_g)\cdot g \\
        \big(\sum_{g \in G}r_g \cdot g \big) \cdot \big(\sum_{g \in G}s_g \cdot g\big)
        & := \sum_{g \in G}(\sum_{k \cdot l = g} r_k \cdot s_l)\cdot g 
    \end{align*}
\end{definition}
\begin{example}
    $R = \R, G = \{x^n \mid n \in \N\} \implies RG = \R[X]$
\end{example}
\begin{remark} \label{rem: universal property of monoid ring}
$R[G]$ together with the ring homomorphism $\alpha \colon R \to R[G]$;
$r \mapsto r \cdot 1$ and the monoid homomorphism $\beta \colon 
G \to R[G]$; $g \mapsto 1 \cdot g$ 
enjoys the following universal property:
\[
  \alpha(r) \cdot \beta(g) = \beta(g) \cdot \alpha(r)
   \quad \forall r \in R, g \in G
\]
and if $(S,\alpha',\beta')$ is another such triple with
$\alpha'(r) \cdot \beta'(g) = \beta'(g) \cdot \alpha'(r)
   \quad \forall r \in R, g \in G$,
there is a unique monoid homomorphism $\gamma \colon R[G] \to S$
such that the following diagram commutes:
\[
    \begin{tikzcd}
        & S \\
        R \arrow[r,"\alpha"'] \arrow[ur,"\alpha'"] 
        & R[G] \arrow[u,"\gamma",dotted] 
        & G \arrow[l,"\beta"] \arrow[ul,"\beta'"']
    \end{tikzcd}
\]
Here, $\gamma$ is defined by 
$\sum_{g \in G}r_g \cdot g \mapsto \sum_{g \in G}\alpha'(r_g) \cdot \beta'(g)$.
\end{remark}
\begin{example}
    Let $S$ be a ring, $G$ be a monoid.
    Since there is a unique ring homomorphism $\Z \to S$, 
    each monoid homomorphism $G \to S$ induces a unique ring homomorphism
    $\Z G \to S$ such that the following commutes:
    \[
      \begin{tikzcd}
        G \arrow[r] \arrow[rd] 
        &S \\
        & \Z G \arrow[u]
      \end{tikzcd}
    \]
    Now if $H$ is another monoid and $f \colon G \to H$ a monoid morphism,
    $G \xrightarrow{f} H \to \Z H$ is a monoid homomorphism,
    hence it extends uniquely to $f \colon \Z G \to \Z H$,
    $\sum_{g \in G}r_g \cdot g \mapsto \sum_{g \in G}r_g \cdot f(g)$.\\ 
    In this way, the free monoid ring construction over $\Z$ is functorial.
\end{example}

Let $G \colon \cat{CRing} \to \cat{CMon}$, $(R,+,\cdot) \mapsto (R,\cdot)$
be the forgetful functor and
let $F \colon \cat{CMon} \to \cat{CRing}$ be the functor
$G \mapsto \Z G$. Then the composition $\Z[\_] := F \circ G \colon \cat{CRing} \to \cat{CRing}$
is the functor $R \mapsto \Z R$, which we call the \textit{free monoid ring functor}.
\begin{claim*}
    $\Z[\_]$ is a comonad on $\cat{CRing}$.
\end{claim*}
\begin{beweis}
    Define the counit and comultiplication by
    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{align*}
    \eps_R \colon \Z R &\to R \\
    \sum_{r \in R} a_r \cdot [r] &\mapsto  \sum_{r \in R} a_r \cdot r
    \end{align*}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{align*}
    \omega_R \colon \Z R &\to \Z \Z R \\
    \sum_{r \in R} a_r \cdot [r] &\mapsto \big[\sum_{r \in R} a_r \cdot [r]\big]
    \end{align*}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    those are clearly natural and the following diagrams commute:
    \begin{figure}[H]
        \centering
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name1}
            \begin{tikzcd}
                \Z R \ar[r,"\omega_x"] \ar[d,"\omega_x"'] 
                    & \Z \Z R \ar[d,"L(\omega_x)"] \\
                \Z \Z R \ar[r,"\omega_{Lx}"]
                    & \Z \Z \Z R
            \end{tikzcd}
        \end{subfigure}
        \hspace{2em}
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name2}
            \begin{tikzcd}
                & \Z R \ar[ld,"\id_{Lx}"'] 
                \ar[rd,"\id_{Lx}"] \ar[d,"\omega_x"] & \\
                \Z R 
                & \Z \Z R \ar[l,"\eps_{Lx}"'] \ar[r,"L(\eps_x)"] 
                & \Z R 
            \end{tikzcd}
        \end{subfigure}
        \end{figure}
\end{beweis}
\begin{remark}
   We can define a variation of this, by setting $\underline{\Z}R := \faktor{\Z R}{(0)}$
   where $(0) = \set{r \cdot 0 \mid r \in \Z R }$ is the ideal generated by $0 \in R$.
\end{remark}

\begin{lemma} \label{lem: interchange law}
    For every object $x$ in $\cat{X}$, the following diagram commutes:
    \[
      \begin{tikzcd}
        T(Tx) \arrow[r,"T(\delta_x)"] \arrow[d,"\delta_{Tx}"] 
            & T(T'x) \arrow[d,"\delta_{T'x}"] \\
          T(T'x) \arrow[r,"T'(\delta_x)"]
            & T'(T'x)
      \end{tikzcd}
    \]
    this means \[
        \delta T' \circ T \delta = T' \delta \circ \delta T
        \colon T^2 \Rightarrow (T')^2.
    \]
    We denote this natural transformation by $\delta \otimes \delta$, since this is
    actually the monoidal product of morphisms in the monoidal category of endofunctors on $\cat{X}$.
\end{lemma}
\begin{beweis}
    $\delta_x \colon Tx \to T'x$ is a ring homomorphism.
    Since $\delta \colon T \Rightarrow T'$ is natural transformation, the square commutes.
\end{beweis}
\begin{definition}[Morphism of monads]
    Let $\cat{X}$ be a category, let $(T,\eta,\mu)$ and $(T',\eta',\mu')$ be monads in $\cat{X}$.
    We say that a natural transformation $\nat[\delta]{T}{T'}$ is a \textit{morphism of monads} if it preserves
    the unit and the multiplication, i.e. the following diagrams commute:

    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
        \id_T \ar[rd,"\eta'"',Rightarrow] \ar[r, "\eta",Rightarrow] 
        & T \ar[d,"\delta",Rightarrow] \\
        & T'
    \end{tikzcd}
    \caption*{(unit-preserving)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        T^2 \ar[r,"\mu",Rightarrow] \ar[d,"\delta \otimes \delta"',Rightarrow] 
        & T \ar[d,"\delta",Rightarrow] \\
        T'^2 \ar[r,"\mu'",Rightarrow]
        & T'
    \end{tikzcd}
    \caption*{(multiplication-preserving)}
    \end{subfigure}
    \end{figure}

    %vadjust allows todo in math-mode   
\end{definition}
\begin{definition}[Morphism of comonads]
    Let $\cat{A}$ be a category, let $(L,\eps,\omega)$ and $(L',\eps',\omega')$ be comonads in $\cat{A}$.
    We say that a natural transformation $\nat[\delta]{L}{L'}$ is a \textit{morphism of monads} if it preserves
    the counit and the comultiplication, i.e. the following diagrams commute:
    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
        L \ar[r,"\delta",Rightarrow] \ar[rd,"\eps"',Rightarrow]
        & L' \ar[d,"\eps'",Rightarrow] \\
        & \id_A 
    \end{tikzcd}
    \caption*{(counit-preserving)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        L \arrow[r,"\omega",Rightarrow] \arrow[d,"\delta",Rightarrow] 
          & L^2 \arrow[d,"\delta \otimes \delta",Rightarrow] \\
        L' \arrow[r,"\omega'",Rightarrow]
          & {L'}^2
    \end{tikzcd}
    \caption*{(comultiplication-preserving)}
    \end{subfigure}
    \end{figure} 
\end{definition}
\begin{example}
    Consider the \textit{subsingletons monad} $\P^1 \colon \cat{Set} \to \cat{Set}$, which
    assigns to each set $X$ the set of subsets of $X$ containing \textit{at most} one element, so
    an element of $\P^1(X)$ is either $\emptyset$ or a singleton $\{x\}$. For a function 
    $f \colon X \to Y$, the induced function maps $\emptyset$ to $\emptyset$ and $\{x\}$ to 
    $\{f(x)\}$, compare this to the power set functor. If we define the unit $\eta'$ by
    \[
        \eta'_X \colon X \to \P^1(X); x \mapsto \{x\}
    \]
    and the multiplication $\mu'$ by 
    \[
        \mu'_X \colon \P^1(\P^1(X)) \to \P^1(X); \{\{x\}\} \mapsto \{x\},
        \{\emptyset\} \mapsto \emptyset, \emptyset \mapsto \emptyset
    \]
    then the resulting monad looks really similar to the \textit{Maybe monad}. 
    This is not a coincidence: the map
    \[
        \delta_X \colon X \cup \pt \to \P^1(X); x \mapsto \{x\}, \ast \mapsto \emptyset
    \]
    gives a natural isomorphism $Y \Rightarrow \P^1$ which is indeed an isomorphism of monads.
    \todo{ausrechnen}


\end{example}
The following theorem gives us a way to create many examples of monads and comonads.
It was first proven in \cite{huber}.
\begin{theorem}[Every adjunction induces a monad and a comonad]
    Let $F {\ }_{\eps}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G \colon \adjar{B}{A}$
    be an adjunction. Then $(GF,\eta,G\eps F)$ is a monad on $B$ and $(FG,\eps,F\eta G)$ is a comonad on $A$, which we
    call the monad respectively comonad induced by the adjunction.
\end{theorem}
\begin{beweis}
    We have to show that the first of the following diagrams commutes, but
    by removing $G$ from the left and $F$ from the right, it suffices to show that the
    right diagram commutes.
    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
            GFGFGF \arrow[r,"GFG\eps F",Rightarrow] \arrow[d,"G \eps FGF",Rightarrow] 
              & GFGF \arrow[d,"G \eps F",Rightarrow] \\
            GFGF \arrow[r,"G \eps F",Rightarrow]
              & GF
    \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        FGFG \arrow[r,"FG\eps ",Rightarrow] \arrow[d,"\eps FG",Rightarrow] 
          & FG \arrow[d,"\eps",Rightarrow] \\
        FG \arrow[r,"\eps",Rightarrow]
          & \id_{B}
    \end{tikzcd}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    The second diagram now commutes by the interchange law for natural transformations.
    To show~\refunitality we need to show that the following diagram commutes.
    \[
        \begin{tikzcd}
            GF \ar[rd,"\id_{GF}"',Rightarrow] \ar[r, "\eta GF",Rightarrow] 
        & GFGF \ar[d,"G \eps F",Rightarrow] 
        & GF \ar[l,"GF \eta"',Rightarrow] \ar[ld,"\id_{GF}",Rightarrow]\\
        & GF
        \end{tikzcd}    
    \]
    but this is essentially the diagrams stating the left and right~\ref{eq: triangle identity of adjunction}
    for the adjunction after applying $F$ respectively $G$.
    The proof that $(FG,\eps,F \eta G)$ is a comonad on $A$ is dual.
\end{beweis}
Now that we know that every adjunction induces a monad, one may ask, if the converse is true,
that is if every monad is induced by an adjunction.This can be reformulated to asking if the following category is non-empty: 

\begin{definition}[Category of $T$-inducing adjunctions]
    Let $\cat{X}$ be a category, $T = (T,\eta,\mu)$ a monad on $X$. The \textit{category of T-inducing adjunctions},
    denoted $Adj(T)$, has as objects adjunctions $F {\ }_{\eps}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G \colon \adjar{X}{Y}$
    for some category $\cat{Y}$ (Note that the unit $\eta$ is fixed for every adjunction).
    A morphism between two adjunctions 
    $F {\ }_{\eps}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G \colon \adjar{X}{Y}$
    and 
    $F' {\ }_{\eps'}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G' \colon \adjar{X}{Y'}$
    is a functor $H \colon \cat{Y} \to \cat{Y'}$ making the following diagram commute:
    \[
        \begin{tikzcd}[column sep = 4em]
            & Y \ar[ld,bend left=20,"G"',shorten=2mm,sloped] \ar[dd,"H"] \\
            X \ar[ru,bend left = 20,"F",shorten=2mm,sloped,pos=0.48] \ar[rd,bend left = 20,"F'",shorten=2mm,sloped,pos=0.55]
            \ar[ru,"\bot",phantom,description,sloped] \ar[rd,"\bot",phantom,description,sloped]
            & \\
            & Y' \ar[lu,bend left = 20,"G'"',shorten=2mm,sloped]
        \end{tikzcd}
    \]
    where a diagram of this form is said to commute if the $F$-diagram and the $G$-diagram commute,
    i.e. we have $HF = F'$ and $G'H = G$.
\end{definition}
We will see that indeed there exists objects in this category and there are even 
multiple ways to induce a given monad $T$. The first one is a construction called the \textit{Eilenberg-Moore-Category}
due to S. Eilenberg and J. Moore in \cite{eilenbergmoore}.
which is not only useful for forming the adjunction.


\section{The Eilenberg-Moore-Category of a monad}\label{sec: Eilenberg-Moore-Category}%
\begin{definition}[Eilenberg-Moore-Category]
    Let $T = (T,\eta,\mu)$ be a monad in a category $\cat{X}$.
    A \textit{$T$-algebra} is a pair $(x,h)$ where $x$ is an object of $\cat{X}$ and $h \colon Tx \to x$ is 
    an arrow such that the following diagrams commute:
    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
        T^2x \arrow[r,"Th"] \arrow[d,"\mu_x"] 
          & Tx \arrow[d,"h"] \\
        Tx \arrow[r,"h"]
          & x
    \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        x \ar[r,"\eta_x"] \ar[rd,"id_x"']
        & Tx \ar[d,"h"] \\
        & x 
    \end{tikzcd}
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    We call $h$ the \textit{stucture map} of $(x,h)$.
    A \textit{morphism of $T$-algebras} $f \colon (x,h) \to (x',h')$ is an arrow
    $f \colon x \to x'$ such that
    \[
        \begin{tikzcd}
            Tx \arrow[r,"Tf"] \arrow[d,"h"] 
            & Tx' \arrow[d,"h'"] \\
            x \arrow[r,"f"]
            & x'
        \end{tikzcd}
    \]
    commutes.
    The set of all $T$-algebras together with their morphisms clearly  form a category,
    which is called the \textit{Eilenberg-Moore-Category} and denoted by $\cat{X}^T$.
\end{definition}
\begin{example}[M-action monad]
    A $T_M$-algebra is a set $X$ together with a map $h \colon X \times M \to X$
    such that 
    \begin{figure}[H]
        \centering
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name1}
        \begin{tikzcd}
            X \times M \times M \arrow[r,"h \times \id_M"] \arrow[d,"\mu_X"] 
              & X \times M \arrow[d,"h"] \\
            X \times M \arrow[r,"h"]
              & X
        \end{tikzcd}
        %\caption*{(cap1)}
        \end{subfigure}
        \hspace{2em}
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name2}
        \begin{tikzcd}
            X \ar[r,"\eta_x"] \ar[rd,"id_x"']
            & X \times M \ar[d,"h"] \\
            & X 
        \end{tikzcd}
        %\caption*{(cap2)}
        \end{subfigure}
        \end{figure}
        commute. If we denote $h(x,m)$ by $(x . m)$, this means that
        $(x . m) . n = x . (m \cdot n)$ and $x . 1 = 1$.
        So $T_M$-algebras are nothing but sets equipped with a right $M$-action.
        In particular, if $M$ is a group, the $T_M$-algebras are just right $M$-sets.
        \todo{all correct? right/left?}
\end{example}
\begin{example}[preorder]
    If $T \colon \cat{P} \to \cat{P}$ is a monotonic function viewed as a monad, then a $T$-algebra is
    an object $x \in \cat{P}$ with $Tx \leq x$. Since $x \leq Tx$, it follows that $x = Tx$, which means that
    a $T$-algebra is just a \textit{closed element} in $\cat{P}$.
    In particular, if we consider $A \mapsto \overline{A}$ in a topological space,
    the $T$-algebras are exactly the closed sets.
\end{example}

\begin{example}[Maybe monad]
    The category of $Y$-algebras is isomorphic to the category of pointed spaces $\ptspaces$.
    Indeed: by definition, a $Y$-algebra is a pair $(X,h)$ where $h \colon X \cup \pt \to X$
    and since 
    \[
     \begin{tikzcd}
         X \ar[r,"\eta_X"] \ar[rd,"\id_X"']
         & X \cup \pt \ar[d,"h"] \\
         & X 
     \end{tikzcd}
    \]
    commutes, $h\arrowvert_X = \id_X$. Now define $F \colon \cat{Set}^Y \to \ptspaces$ by 
    \begin{align*}
        (X,h) &\mapsto (X,h(\ast)) \\
        f \colon (X,h) \to (Y,i) &\mapsto f \colon (X,h(\ast)) \to (Y,i(\ast))
    \end{align*}
    and define $G \colon \ptspaces \to \cat{Set}^Y$ by 
    \begin{align*}
        (X,x) &\mapsto (X, \id_{X}^x) \\
        f \colon (X,x) \to (Y,y) &\mapsto f \colon (X,\id_{X}^x) \to (Y,\id_Y^y)
    \end{align*}
    where $\id_X^x \colon X \cup \pt \to X$ is the identity on X and maps $\ast$ to $x$.
    \todo{finish}
\end{example}
\begin{theorem}[Every monad is defined by its T-algebras]
    Let $(T,\eta,\mu)$ be a monad in a category $\cat{X}$.
    Then there is an adjunction $F^T \! \! \adj G^T \colon \adjar{X}{X^T}$
    such that the monad induced by this adjunction is $(T,\eta,\mu)$. We call this
    the Eilenberg-Moore-adjunction.
\end{theorem}
\begin{beweis}
\begin{itemize1}     
\item
Define $F^T \colon \cat{X} \to \cat{X}^T$ by
\[
    \begin{tikzcd}
        x \arrow[r,mapsto] \arrow[d,"f"]
          & (Tx,\mu_x) \arrow[d,"Tf"] \\
        x' \arrow[r,mapsto]
          & (Tx',\mu_{x'})
    \end{tikzcd}
\]
$(Tx,\mu_x)$ is indeed a $T$-algebra, since $\mu_x$ is an arrow $T^2x \to Tx$
and the diagrams 
\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
\begin{tikzcd}
    T^3x \arrow[r,"T(\mu_x)"] \arrow[d,"\mu_{Tx}"] 
      & T^2x \arrow[d,"\mu_x"] \\
    T^2x \arrow[r,"\mu_x"]
      & Tx
\end{tikzcd}
%\caption*{(cap1)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
\begin{tikzcd}
    Tx \ar[r,"\eta_{Tx}"] \ar[rd,"id_{Tx}"',sloped]
    & T^x \ar[d,"\mu_x"] \\
    & Tx 
\end{tikzcd}
%\caption*{(cap2)}
\end{subfigure}
\end{figure}
are just the commuting diagrams for the~\refassociativity
respectively left~\refunitality axioms from the definition of a monad.

$Tf \colon (Tx,\mu_x) \to (Tx',\mu_{x'})$ is indeed a morphism of $T$-algebras,
since the commutativity of 
\[
  \begin{tikzcd}
      T^2x \arrow[r,"T^2(f)"] \arrow[d,"\mu_x"] 
        & T^2x' \arrow[d,"\mu_{x'}"] \\
      Tx \arrow[r,"T(f)"]
        & Tx'
  \end{tikzcd}  
\]
is given by naturality of $\mu$. The functoriality of $F^T$ follows from the functoriality
of $T$.
\item
Define $G^T \colon \cat{X^T} \to \cat{X}$ by
\[
    \begin{tikzcd}
        (x,h) \arrow[r,mapsto] \arrow[d,"f"] 
          & x \arrow[d,"f"] \\
        (x',h') \arrow[r,mapsto]
          & x'
    \end{tikzcd}   
\]
so $G$ is just the forgetful functor.
\begin{claim*}
    $G^T \circ F^T = T$ and $F^TG^T(x,h) = (Tx,\mu_x$).
\end{claim*}
\begin{proof}[Proof of claim]
    Let $x \in \cat{X}.$ Then $G^T(F^T(x)) = G^T(Tx,\mu_x) = Tx.$
    Now let $f \colon x \to y$. Then $G^T(F^T(f))=G^t(Tf)=Tf.$
    Finally, $F^TG^T(x,h) = F^T(x) = (Tx,\mu_x).$
\end{proof}
\item
So we can set 
\[
  \eta^T := \eta \colon \id_{\cat{X}} \Rightarrow G^TF^T 
\]
as the unit and we can define the counit $\eps^T \colon F^TG^T \Rightarrow \id_{\cat{X}^T}$ by
\[
    \eps^T_{(x,h)} := h \colon (Tx,\mu_x) \to (x,h).
\]
$h$ is a morphism of $T$-algebras because $(x,h)$ is a $T$-algebra, since both statements
mean that the left of the following two diagrams commutes.
\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
\begin{tikzcd}
    T^2x \arrow[r,"Th"] \arrow[d,"\mu"] 
      & Tx \arrow[d,"h"] \\
    T \arrow[r,"h"]
      & x
\end{tikzcd}
%\caption*{(cap1)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
\begin{tikzcd}
    Tx \arrow[r,"Tf"] \arrow[d,"h"]
      & Tx' \arrow[d,"h'"] \\
    x \arrow[r,"f"]
      & x'
\end{tikzcd}
%\caption*{(cap2)}
\end{subfigure}
\end{figure}
$\eps^T$ is natural, because if $f \colon (x,h) \to (x',h')$
is a morphism of $T$-algebras, naturality means that the right diagram above commutes,
but this is exactly the definition of $f$ being a morphism of $T$-algebras.
\item To show the~\ref{eq: triangle identity of adjunction}, we have to show that 
\begin{figure}[H]
\centering
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name1}
\begin{tikzcd}
    Tx \ar[r,"T\eta_x"] \ar[rd,"\id_{Tx}"']
    & T^2x \ar[d,"\mu_x"] \\
    & Tx 
\end{tikzcd}
%\caption*{(cap1)}
\end{subfigure}
\hspace{2em}
\begin{subfigure}{0.4\textwidth}
\centering
%\phantomsection\label{name2}
\begin{tikzcd}
    x \ar[r,"\eta_x"] \ar[rd,"\id_x"']
    & Tx \ar[d,"h"] \\
    & x 
\end{tikzcd}
%\caption*{(cap2)}
\end{subfigure}
\end{figure}
commute, but the first diagram commutes by the right~\refunitality law for the monad $T$, the
second one commutes, since $(x,h)$ is a $T$-algebra.
\item The induced monad of the adjunction now has unit $\eta^T$ and multiplication
$\mu^T = G^T \eps^T F^T$. But $G^TF^T = T$ and $\eta^T = \eta$ is already shown and
$\mu^T_x = (G^T\eps^{T})_{F^Tx} = (G^T\eps^T)_{(Tx,\mu_x)} = G^T(\mu_x) = \mu_x$.
\end{itemize1}
\end{beweis}
\begin{theorem}[Comparison of adjunctions with algebras]
    Let $F {\ }_{\eps}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G \colon \adjar{X}{A}$ be an adjunction,
    $T = (GF,\eta,G\eta F)$ the monad it defines in $\cat{X}$. Then there is unique functor
    $K \colon \cat{A} \to \cat{X^T}$ such that the following diagram commutes:
    \[
        \begin{tikzcd}[column sep = 4em]
            & \cat{A} \ar[ld,bend left=20,"G"',shorten=2mm,sloped] \ar[dd,"K"] \\
            \cat{X} \ar[ru,bend left = 20,"F",shorten=2mm,sloped,pos=0.48] \ar[rd,bend left = 20,"F^T",shorten=2mm,sloped,pos=0.55]
            \ar[ru,"\bot",phantom,description,sloped] \ar[rd,"\bot",phantom,description,sloped]
            & \\
            & \cat{X^T} \ar[lu,bend left = 20,"G^T"',shorten=2mm,sloped]
        \end{tikzcd}
    \]
    In other words, the Eilenberg-Moore-adjunction $F^T \! \! \adj G^T \colon \adjar{X}{X^T}$ is a terminal object in $Adj(T)$.
\end{theorem}
\begin{beweis}   
    Existence: For $f \colon a \to a'$ in $A$ we define $K$ by:
    \begin{align*}
        Ka &= (Ga,G(\eps_a)) \\
        Kf &= Gf \colon (Ga,G(\eps_a)) \to (Ga',G(\eps_{a'}))
    \end{align*}
    We have to show that this is well-defined.
    \begin{claim}
        $Ka$ is a $T$-algebra.
    \end{claim}
    \begin{smallproof}
        $Ka$ is the arrow $GFGFa \overset{G(\eps_a)}{\to} Ga$ and we need to show that 
        the following diagrams commute:
        \begin{figure}[H]
        \centering
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name1}
        \begin{tikzcd}
            GFGFGa \arrow[r,"GFG(\eps_a)"] \arrow[d,"G(\eps_{FGa})"] 
              & GFGa \arrow[d,"G(\eps_a)"] \\
            GFGa \arrow[r,"G(\eps_a)"]
              & Ga
        \end{tikzcd}
        %\caption*{(cap1)}
        \end{subfigure}
        \hspace{2em}
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name2}
        \begin{tikzcd}
            Ga \ar[r,"\eta_{Ga}"] \ar[rd,"\id_{Ga}"']
            & GFGa \ar[d,"G(\eps_a)"] \\
            & Ga 
        \end{tikzcd}
        %\caption*{(cap2)}
        \end{subfigure}
        \end{figure}
    The second diagram is just one of the~\ref{eq: triangle identity of adjunction}
    for the adjunction. The first diagram is the image under G of:
    \[
    \begin{tikzcd}
        FGFGa \arrow[r,"FG(\eps_a)"] \arrow[d,"\eps_{FGa}"] 
          & FGa \arrow[d,"\eps_a"] \\
        FGa \arrow[r,"\eps_a"]
          & a
    \end{tikzcd}
    \]
    which commutes by~\ref{lem: interchange law}. 
    \end{smallproof}
    \begin{claim}
        $Kf$ is a morphism of $T$-algebras.
    \end{claim}
    \begin{smallproof}
        We have to show that the first of the following two diagrams commutes:
        \begin{figure}[H]
        \centering
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name1}
        \begin{tikzcd}
            GFGa \arrow[r,"G(\eps_a)"] \arrow[d,"GFG(f)"] 
                & Ga \arrow[d,"G(f)"] \\
              GFGa' \arrow[r,"G(\eps_{a'})"]
                & Ga'
        \end{tikzcd}
        %\caption*{(cap1)}
        \end{subfigure}
        \hspace{2em}
        \begin{subfigure}{0.4\textwidth}
        \centering
        %\phantomsection\label{name2}
        \begin{tikzcd}
            FGa \arrow[r,"\eps_a"] \arrow[d,"FG(f)"] 
                & a \arrow[d,"f"] \\
              FGa' \arrow[r,"\eps_{a'}"]
                & a'
        \end{tikzcd}
        %\caption*{(cap2)}
        \end{subfigure}
        \end{figure}
        but the first diagram is the image of the second diagram under $G$,
        which commutes by naturality of $\eps \colon FG \Rightarrow \id_A$.
    \end{smallproof}
    Functoriality of $K$ follows from the Functoriality of $G$.
    For the commutativity of the diagram in the statement, let $f \colon a \to a'$ and $g \colon x \to x'$ 
    be morphisms. Then the $G$-diagram commutes, since we have:
    \begin{align*}
        G^TKa = G^T(Ga,G(\eps_a)) = Ga \\
        G^TK(f) = G^T(Gf) = Gf
    \end{align*}
    and for the $F$-diagram we compute:
    \begin{align*}
        KFx = (Gfx,G(\eps_{Fx})) = (Tx,\mu_x) = F^Tx \\
        KF(g) = GF(g) = T(g) = F^T(g)
    \end{align*}
    Uniqueness: $G^TK = G \implies$ for $f \colon a \to a'$, $K(f) = G(f)$ and $Ka$ has to be of the
    form $(Ga,h)$ for some structure map $h$. We will show that the commutativity of the
    two diagrams implies $h = G(\eps_a)$.
    For that we need the following
    \begin{claim}
        $K(\eps_a) = \eps^T_{Ka}$ for all $a \in \cat{A}$.
    \end{claim}
    \begin{smallproof}
        Denote by $\phi,\psi,\phi^T,\psi^T$ the natural $\Hom$-isomorphisms from the adjunctions $F \! \adj \! G$ respectively
        $F^T \!\! \adj \! G^T$.
        The left of the following diagrams commutes, since going the upper way maps $g$
        to $G(g) \circ \eta_x$, while going the lower way maps it to $GK(g) \circ \eta^T_x = G(g) \circ \eta_x$.
        \begin{figure}[H]
            \small
        \centering
        \begin{subfigure}{0.46\textwidth}
        \centering
        %\phantomsection\label{name1}
        \begin{tikzcd}[row sep=0mm]
            \Hom[A](Fx,a) \ar[r,"\phi_{a,x}","\cong"'] \ar[d,"K"] 
            & \Hom[X](x,Ga) \ar[dd,equal] \\[8mm]
            \Hom[X^T](KFx,Ka)  \ar[d,equal] & \\[2mm]
            \Hom[X^T](F^Tx,Ka) \ar[r,"\phi^T_{Ka,x}","\cong"']
            & \Hom[X](x,G^TKa)
        \end{tikzcd}
        %\caption*{(cap1)}
        \end{subfigure}
        \hspace{2em}
        \begin{subfigure}{0.46\textwidth}
        \centering
        %\phantomsection\label{name2}
        \begin{tikzcd}[row sep=0mm]
            \Hom[A](Fx,a) \ar[from=r,"\psi_{a,x}"',"\cong"] \ar[d,"K"] 
            & \Hom[X](x,Ga) \ar[dd,equal] \\[8mm]
            \Hom[X^T](KFx,Ka)  \ar[d,equal] & \\[2mm]
            \Hom[X^T](F^Tx,Ka) \ar[from=r,"\psi^T_{Ka,x}"',"\cong"]
            & \Hom[X](x,G^TKa)
        \end{tikzcd}
        %\caption*{(cap2)}
        \end{subfigure}
        \end{figure}
        This means that the right diagram, which is just the inverses, commutes as well.
        Now let $x := Ga$ and chase $\id_{Ga}$ in the the right diagram to see that 
        $K(\eps_a) = \eps^T_{Ka}$.
    \end{smallproof}
    By definition of $\eps^T$, it follows that 
    \[
        G(\eps_a) = K(\eps_a) = \eps^T_{Ka} = h.
    \]
\end{beweis}
\section{The Kleisli category of a monad}
There is another way to induce a monad by an adjunction, which was introduced by Heinrich Kleisli in \cite{kleisli}:
\begin{definition}[Kleisli category]
    Let $\cat{X}$ be a category, $T = (T,\eta, \mu)$ be a monad in $\cat{X}$.
    The \textit{Kleisli category $\cat{X}_T$} is defined by
    \begin{itemize}
        \item objects the same as in $\cat{X}$, but we relabel $x$ to $x_T$ for all $x \in \cat{X}$.
        \item for $x_T, y_T \in \cat{X}_T$, $f\colon x \to Ty$ is a morphism which we
        denote by $f^b \colon x_T \to y_T$.
        \item composition will be denoted by $\bullet$ for distinction and is defined by
        \[
            g^b \bullet f^b := (\mu_z \circ Tg \circ f)^b \colon x_T \to z_T
        \]
        for $f^b \colon x_T \to y_T$, $g^b \colon y_T \to z_T$. \\
        This is indeed again a morphism:
        \begin{tikzcd}
            x \arrow[r,"f"]
              & Ty \arrow[r,"Tg"]
                & T^2z \arrow[r,"\mu_z"]
                  & Tz
        \end{tikzcd}
    \end{itemize}
\end{definition}
\begin{claim*}
    This defines a category.
\end{claim*}
\begin{proof}[Proof of claim]
\underline{associativity}: Let
\begin{tikzcd}
    x_T \arrow[r,"f^b"]
      & y_T \arrow[r,"g^b"]
        & z_T \arrow[r,"h^b"]
          & w_T
\end{tikzcd}
be objects and morphisms in the Kleisli category.
\begin{align*}
    (h^b \bullet g^b) \bullet f^b &= (\mu_w \circ Th \circ g)^b \bullet f^b \\
    &= (\mu_w \circ T(\mu_w \circ Th \circ g) \circ f)^b \\
    &= (\mu_w \circ T\mu_w \circ T^2h \circ Tg \circ f)^b.
\end{align*}
Now the~\refassociativity axiom for the monad T states that
\[
    \begin{tikzcd}
        T(T(Tw)) \ar[r,"T(\mu_w)"] \ar[d,"\mu_{Tw}"'] 
        & T(Tw) \ar[d,"\mu_w"] \\
        T(Tw) \ar[r,"\mu_w"]
        & Tw 
    \end{tikzcd}
\]
commutes, hence 
\[
    (\mu_w \circ T\mu_w \circ T^2h \circ Tg \circ f)^b
    = (\mu_w \circ \mu_{Tw} \circ T^2h \circ Tg \circ f)^b
\]
By naturality of $\mu$, the diagram
\[
    \begin{tikzcd}
        T^2z \arrow[r] \arrow[d] 
          & T^3w \arrow[d] \\
        Tz \arrow[r]
          & T^2w
    \end{tikzcd}
\]
commutes, so it follows that
\begin{align*}
    (\mu_w \circ \mu_{Tw} \circ T^2h \circ Tg \circ f)^b
    &= (\mu_w \circ Th \circ \mu_z \circ Tg \circ f)^b \\
    &= h^b \bullet (g^b \bullet f^b) \\
\end{align*}
\underline{identity axiom}: Let $f^b \colon x_T \to y_T$ be a morphism.
\begin{align*}
    f^b \bullet (\eta_x)^b = (\mu_x \circ Tf \circ \eta_x)^b
    = (\mu_x \circ \eta_{Ty} \circ f)^b
    = (\id_{Ty} \circ f)^b = f^b
\end{align*}
where the second equality follows from the naturality of $\eta$ and 
the third equality is due to the left~\refunitality law for T.
\begin{align*}
    (\eta_y)^b \bullet f^b = (\mu_y \circ T\eta_y \circ f)^b
    =(id_{Ty}\circ f)^b = f^b
\end{align*}
where the second equality is due to the right~\refunitality law for T.
This proves that for $x_T \in \cat{X}_T$ we have $\id_{x_T} = (\eta_x)^b
\in \Hom[\cat{X}_T](x_T,x_T)$
\end{proof}
\todo{beispiel}
\begin{theorem}
    Let $(T,\eta,\mu)$ be a monad in a category $\cat{X}$.
    Then there is an adjunction $F_T \! \! \adj G_T \colon \adjar{X}{X_T}$
    such that the monad induced by this adjunction is $(T,\eta,\mu)$.
    We call this the Kleisli-adjunction.
\end{theorem}
\begin{beweis}
    \begin{itemize1}
    \item Define $F_T \colon \cat{X} \to \cat{X_T}$ by 
    \begin{align*}
        x &\mapsto x_T \\
        f \colon x \to y &\mapsto (Tf \circ \eta_x)^b \colon x_T \to y_T
    \end{align*}
    Then $F_T(\id_x) = (\eta_x)^b$, which is the identity on $x_T$. Now
    \[
        F_T(g \circ f) = (T(g \circ f) \circ \eta_x)^b = (Tg \circ Tf \circ \eta_x)^b
    \]
    \begin{align*}
        F_T(g) \bullet F_T(f) &= (Tg \circ \eta_y)^b \bullet (Tf \circ \eta_x)^b 
        \tag{Definition of $F^T$}\\
        &= (\mu_z \circ T(Tg \circ \eta_y) \circ Tf \circ \eta_x)^b 
        \tag{Definition of Kleisli composition}\\
        &= (\mu_z \circ T^2g \circ T\eta_y \circ Tf \circ \eta_x)^b 
        \tag{Functoriality of T}\\
        &= (Tg \circ \mu_z \circ T\eta_y \circ Tf \circ \eta_x)^b 
        \tag{Naturality of $\mu$}\\
        &= (Tg \circ Tf \circ \eta_x)^b \tag{right~\refunitality law for $T$}
    \end{align*}
    This proves that $F_T$ is a functor.
    \item Define $G_T \colon \cat{X_T} \to \cat{X}$ by
    \begin{align*}
        x_T &\mapsto Tx \\
        f^b \colon x_T \to y_T &\mapsto \mu_y \circ Tf \colon Tx \to Ty
    \end{align*}
    Then $G_T(\id_{x_T}) = G_T(\eta_x^b) = \mu_x \circ T\eta_x = \id_x$ by the right~\refunitality law for T.
    Now we compute that
    \begin{align*}
        G_T(g^b \bullet f^b) = G_T((\mu_z \circ Tg \circ f)^b) &=
        \mu_z \circ T \mu_z \circ T^2g \circ Tf \\
        G_T(g^b) \circ G_T(f^b) &= \mu_z \circ Tg \circ \mu_z \circ Tf 
    \end{align*}
    so it suffices to show that the following diagram commutes:
    \[
    \begin{tikzcd}
        Tx \ar[r,"Tf"] \ar[d,"Tf"] & T^2y \ar[r,"T^2g"] & T^3z \ar[r,"T\mu_z"] & T^2z \ar[d,"\mu_z"] \\
        T^2y \ar[r,"\mu_y"] & Ty \ar[r,"Tg"] & T^2z \ar[r,"\mu_z"] & Tz
    \end{tikzcd}
    \]
    But we can fill it in to get the following:
    \[
        \begin{tikzcd}
            Tx \ar[rd,"(1)" description,phantom] \ar[r,"Tf"] \ar[d,"Tf"] & T^2y \ar[r,"T^2g"]
            \ar[rd,"(2)" description,phantom]\ar[d,"\mu_y",dotted]
            & T^3z \ar[rd,"(3)" description, phantom]\ar[r,"T\mu_z"] \ar[d,"\mu_{Tz}",dotted] & T^2z \ar[d,"\mu_z"] \\
            T^2y \ar[r,"\mu_y"] & Ty \ar[r,"Tg"] 
            & T^2z \ar[r,"\mu_z"] & Tz
        \end{tikzcd}
    \]
    where (1) commutes trivially, (2) by naturality of $\mu$ and (3) by the~\refassociativity of T.
    \begin{claim*}
        $G_T F_T =T$.
    \end{claim*}
    \begin{smallproof}
    \begin{align*}
        G_T(F_T(x)) &= G_T(x_T) = Tx \\
        G_T(F_T(f)) &= G_T((Tf \circ \eta_x)^b) = \mu_y \circ T^2f \circ T\eta_x \\
        &= \mu_y \circ T\eta_y \circ Tf \tag{naturality of $\eta$}\\
        &= Tf \tag{\refunitality of $T$}
    \end{align*}
    \end{smallproof}
    \item We now set the unit and counit to be 
    \begin{align*}
        &\eta_x \colon x \to Tx\\
        &\eps_x = \id_{Tx}^b \colon (Tx)_T \to x_T
    \end{align*}
    We need to show that $\eta$ and $\eps$ satisfy the triangle identities:
    \begin{figure}[H]
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name1}
    \begin{tikzcd}
        F_Tx \ar[r,"F_T(\eta_x)"] \ar[rd,"\id_{F_Tx}"']
        & F_TG_TF_Tx \ar[d,"\eps_{F_Tx}"] \\
        & F_Tx 
    \end{tikzcd}
    %\caption*{(cap1)}
    \end{subfigure}
    \hspace{2em}
    \begin{subfigure}{0.4\textwidth}
    \centering
    %\phantomsection\label{name2}
    \begin{tikzcd}
        G_Tx_T \ar[r,"\eta_{G_Tx_T}"] \ar[rd,"\id_{G_Tx_T}"']
        & G_TF_TG_Tx_T \ar[d,"G_T(\eps_x)"] \\
        & G_Tx_T
    \end{tikzcd} 
    %\caption*{(cap2)}
    \end{subfigure}
    \end{figure}
    the left diagram commutes, since we have
    \begin{align*}
        \eps_{F_Tx} \bullet F_T(\eta_x) &= (\id_{Tx})^b \bullet (T\eta_x \circ \eta_x)^b 
        = (\mu_x \circ T(\id_{Tx}) \circ T\eta_x \circ \eta_x)^b \\
        &= (\mu_x \circ T\eta_x \circ \eta_x)^b  
        = (\eta_x)^b = \id_{F_Tx}
    \end{align*}
    using the right~\refunitality of $T$.
    The right diagram commutes, since we have
    \begin{align*}
        G_T(\eps_x) \circ \eta_{G_Tx_T} = \mu_x \circ T(\id_{Tx}) \circ \eta_{Tx}
        = \mu_x \circ \eta_{Tx} = \id_{Tx}
    \end{align*}
    using the left~\refunitality of $T$. The only thing left to show is that
    $\mu = G_T \eps F_T$:
    \begin{align*}
        G_T(\eps_{F_Tx}) = G_T(\eps_{x_T}) = G_T(\id_{Tx}^b) = \mu_x \circ T(\id_{Tx}) = \mu_x
    \end{align*}
    \end{itemize1}
\end{beweis}
\begin{theorem}[Comparison of adjunctions with the Kleisli-construction]
    Let $F {\ }_{\eps}^{\text{\tiny{$\eta$}}}\!\!\!\!\adj G \colon \adjar{X}{A}$ be an adjunction,
    $T = (GF,\eta,G\eta F)$ the monad it defines in $\cat{X}$. Then there is a unique functor
    $L \colon \cat{X_T} \to \cat{A}$ such that the following diagram commutes:
    \[
        \begin{tikzcd}[column sep = 4em]
            & \cat{X_T} \ar[ld,bend left=20,"G_T"',shorten=2mm,sloped] \ar[dd,"L"] \\
            \cat{X} \ar[ru,bend left = 20,"F_T",shorten=2mm,sloped,pos=0.48] \ar[rd,bend left = 20,"F",shorten=2mm,sloped,pos=0.55]
            \ar[ru,"\bot",phantom,description,sloped] \ar[rd,"\bot",phantom,description,sloped]
            & \\
            & \cat{A} \ar[lu,bend left = 20,"G"',shorten=2mm,sloped]
        \end{tikzcd}
    \]
    In other words, the Kleisli-adjunction $F_T \! \! \adj G_T \colon \adjar{X}{X_T}$ is an initial object in $Adj(T)$.
\end{theorem}
\begin{beweis}
    \begin{itemize1}
    \item 
    Define $L$ by 
    \begin{align*}
        x_T &\mapsto Fx \\
        f^b \colon x_t \to y_t &\mapsto \eps_{Fy} \circ F(f) \colon Fx \to FGFy \to Fy \\
    \end{align*}
    \item $L(\id_{x_t}) = L(\eta_x^b) = \eps_{Fx} \circ F(\eta_x) = \id_{Fx}$ 
    by the~\ref{eq: triangle identity of adjunction} of the adjunction.
    \item Let \begin{tikzcd}[cramped] x_T \ar[r,"f"] & y_T \ar[r,"g"] & z_T \end{tikzcd}.
    \begin{align*}
    L(g \bullet f) &= \eps_{Fz} \circ F(\mu_z \circ GF(g) \circ f) 
    = \eps_{Fz} \circ F(\mu_z) \circ FGF(g) \circ F(f) \\
    L(g) \circ L(f) &= \eps_{Fz} \circ Fg \circ \eps_{Fy} \circ F(f)
    \end{align*}
    so we have to show that the following diagram commutes:
    \[
       \begin{tikzcd}
        Fx \ar[d,"F(f)"] \ar[r,"F(f)"] & FGFy \ar[r,"FGF(g)"] & FGFGFz \ar[r,"F(\mu_z)"] & FGFz \ar[d,"\eps_{Fz}"] \\
        FGFy \ar[r,"\eps_{Fy}"] & Fy \ar[r,"F(g)"] & FGFz \ar[r,"\eps_{Fz}"] & Fz
       \end{tikzcd}
    \]
    but we can fill in the counit morphisms: 
    \[
        \begin{tikzcd}
            Fx \ar[rd,"(1)" description,phantom] \ar[r,"F(f)"] \ar[d,"F(f)"] & FGFy \ar[r,"FGF(g)"]
            \ar[rd,"(2)" description,phantom]\ar[d,"\eps_{Fy}",dotted]
            & FGFGFz \ar[rd,"(3)" description, phantom]\ar[r,"F(\mu_z)"] \ar[d,"\eps_{FGFz}",dotted] & FGFz \ar[d,"\eps_{Fz}"] \\
            FGFy \ar[r,"\eps_{Fy}"] & Fy \ar[r,"F(g)"] 
            & FGFz \ar[r,"\eps_{Fz}"] & Fz
        \end{tikzcd}
    \]
    and now (1) commutes trivially, while (2) and (3) commute by naturality of $\eps$ since $\mu_z = G(\eps_{Fz})$.
    \item Commutativity of the diagrams: Let $f \colon x \to y$.
    \begin{align*}
        &GLx_T &&= GFx = Tx = G_Tx_T \\
        &GL(f^b) &&= G(\eps_{Fy} \circ F(f)) = G(\eps_{Fy}) \circ GF(f) = \mu_y \circ T(f) = G_T(F^b) \\
        &LF_Tx &&= Lx_T = Fx \\
        &LF_T(f) &&= L((T(f) \circ \eta_x)^b) 
        = \eps_{Fy} \circ F(T(f) \circ \eta_x) = \eps_{Fy} \circ FGF(f) \circ F(\eta_x) \\
        &&&= F(f) \circ \eps_{Fx} \circ F(\eta_x) \tag{naturality of $\eps$} \\
        &&&= F(f) \circ \id_{Fx} = F(f) \tag{\ref{eq: triangle identity of adjunction}}
    \end{align*}
    \item Uniqueness: Let $L'$ be another functor making the diagrams commute.
    Then since $F_T$ is surjective on objects we have
    \[
        L'F_T = F \Rightarrow L'x_T = Fx = Lx_T \text{ for all objects } x_T
    \]
    and for $f^b \colon x_T \to y_T$ we can precompose with the identity to see that 
    \begin{align*}
        L'(f^b) = L'(f^b) \circ \id_{L'x} &= L'(f^b) \circ \eps_{Fx} \circ F(\eta_x) \tag{\ref{eq: triangle identity of adjunction}} \\
        &= \eps_{Fy} \circ FGL'(f^b) \circ F(\eta_x) 
        = \eps_{Fy} \circ FG_T(f^b) \circ F(\eta_x) \\
        &= \eps_{Fy} \circ F(\mu_y \circ T(f)) \circ F(\eta_x) 
        = \eps_{Fy} \circ F(\mu_y) \circ FGF(f) \circ F(\eta_x) \\
        &= \eps_{Fy} \circ F(\mu_y) \circ F(\eta_{GFy}) \circ F(f) \tag{naturality of $\eta$} \\
        &= \eps_{Fy} \circ F(\mu_y \circ \eta_{GFy}) F(f) \\
        &= \eps_{Fy} \circ F(f) = L(f^b) \tag{\ref{eq: triangle identity of adjunction}}
    \end{align*}  
    \end{itemize1}
\end{beweis}
